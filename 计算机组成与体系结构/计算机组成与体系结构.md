# 硬件
- 冯·诺依曼

## 硬件组成
1. 控制器
    - 定义: **控制器是分析和执行指令的部件**，也是统一指挥并控制计算机各部件协调工作的重心部件.
    - 控制器包含
        - 程序计数器PC: 存储吓一跳要执行指令的地址
        - 指令寄存器IR: 存储即将执行的指令
        - 指令译码器ID: 对治疗中的操作码字段进行分析解释
        - 时序部件: 提供时序控制型号
2. 运算器
    - 定义: 运算器也被称为算术逻辑单元,**主要功能是在控制器的控制下完成各种算术运算和逻辑运算**
    - 运算器包含
        - 算术逻辑单元ALU: 数据的算术运算和逻辑运算
        - 累加寄存器AC: 通用存储器,为算术逻辑单元(ALU)提供一个工作区
        - 数据缓冲寄存器DR: 写内存时,暂存指令或数据
        - 状态条件寄存器PSW: 村状态标志与控制标记
3. 主存储器
    - 定义: 主存储器也成为内存储器,存储**现场操作的信息**和**中间结果**和**机器指令**和**数据**
4. 辅助存储器
    - 定义: 辅助存储器**存储需要长时间保存的各种信息** 
5. 输入设备
    - 定义: **输入设备是将人们编号的程序和原始数据发送给计算机,并且将它们转换成计算机内可识别的信息**
    - 输入设备包含
        - 键盘
        - 鼠标
6. 输出设备
    - 定义: **输出设备的任务是将计算机的处理结果以人可以接受的形式送出计算机**
    - 输出设备包含
        - 显示器


## 复杂指令集系统
- 增强指令的功能，设置一些功能复杂的指令，把一些原来由软件实现的、常用的功能改用硬
  件的指令系统来实现，这种计算机系统称为复杂指令系统计算机（Complex Instruction Set 
  Computer，CISC）

- 特点
    1. 指令数量多
    2. 指令的使用频率悬殊
    3. 支持多种寻址方式
    4. 变长的指令
    5. 指令可以对主存单元的数据直接操作
    6. 以微程序控制为主

## 精简指令集系统
- 尽量简化指令功能，只保留那些功能简单，能在一个节拍内执
  行完成指令，较复杂的功能用一段子程序来实现，这种计算机系统称为精简指令系统计算机
  （Reduced Instruction Set Computer，RISC）。 
  
- 特点
    1. 指令数量少
    2. 寻址方式少
    3. 指令长度固定
    4. 以硬布线逻辑控制为主
    5. 单周期指令执行
    6. 优化的编译器
    7. CPU的累加寄存器AC(通用存储器)数量多
    
    
## 总线
-  **总线是一组能为多个部件分时共享的公共信息传送线路**。共享是指总线上可以挂接多个
部件，各个部件之间相互交换的信息都可以通过这组公共线路传送；分时是指同一时刻只允
许有一个部件向总线发送信息，如果出现两个或两个以上部件同时向总线发送信息，势必导
致信号冲突。当然，在同一时刻，允许多个部件同时从总线上接收相同的信息。 

- **总线不能同时接受消息,但多个部件可以从总线上获取信息**







## 流水线
- 定义: 流水线技术十八一个任务分解为若干顺序执行的子任务,不同的任务由不同的机构进行处理

### 流水线周期
- 在流水线应用过程中,会将需要处理的工作分为N各阶段,最耗时的那一段时间作为流水线的周期

### 流水线的执行时间
- 将一个任务的执行过程分成N个阶段,每个阶段需要的完成时间为t. 则完成该任务所需要的时间为Nt.
    - 传统方式时间计算: 需要完成k个任务的时间为kNt
    - 流水线技术执行的时间计算: Nt+(k-1)t
    
- 计算公式= 第一条指令的执行时间+(阶段数量-1)*流水线周期


#### 实际题目
- 若执行一个指令需要经历,取值(2ms),计算(3ms),执行(1ms). 求流水线执行100条这个指令需要多久

解答:
1. 一条命令的执行时间: 2+3+1 = 6ms
2. 根据流水线周期的计算规则最耗时的的一个时间段时这个流水线的周期: 3ms
3. 带入公式计算 (2+3+1) +(100-1)*3 = 303ms
 
 
但是: 真正在做流水线处理时会考虑处理的复杂性将时间都统一成流水线周期: (3+3+3)+(100-1)*3
 **在答案没有的上述303ms的时候进行使用**



### 流水线吞吐量
吞吐量= 任务数量 / 处理完成N个任务的时间


### 最大吞吐量
- 最大吞吐量 = 1/流水线周期

### 加速比
- 顺序作业下消费的时间 / 流水线作业下消费的时间